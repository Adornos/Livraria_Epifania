/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET NAMES utf8 */;
/*!50503 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

CREATE DATABASE IF NOT EXISTS `bd_livraria_epifania` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci */;
USE `bd_livraria_epifania`;

CREATE TABLE IF NOT EXISTS `categoria` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `categoria` varchar(50) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `categoria` (`id`, `categoria`) VALUES
	(1, 'Recomendados'),
	(2, 'Ficção Científica'),
	(3, 'Fantasia'),
	(4, 'Romance Clássico'),
	(5, 'Terror'),
	(6, 'Mistério / Suspense'),
	(7, 'Aventura'),
	(8, 'Drama'),
	(9, 'Cyberpunk'),
	(10, 'Ficção Distópica'),
	(11, 'Clássicos Modernos'),
	(12, 'Filosofia / Existencialismo'),
	(13, 'Thriller Psicológico'),
	(14, 'Literatura Contemporânea'),
	(15, 'História / Guerra');

CREATE TABLE IF NOT EXISTS `compras` (
  `Id` int(11) NOT NULL AUTO_INCREMENT,
  `id_usuario` int(11) NOT NULL,
  `cpf_leitor` varchar(15) NOT NULL DEFAULT '',
  `data` timestamp NULL DEFAULT current_timestamp(),
  PRIMARY KEY (`Id`),
  KEY `idx_usuario_cpf` (`id_usuario`,`cpf_leitor`),
  KEY `fk_compras_leitor_cpf` (`cpf_leitor`),
  CONSTRAINT `fk_compras_leitor_id` FOREIGN KEY (`id_usuario`) REFERENCES `leitor` (`id_leitor`)
) ENGINE=InnoDB AUTO_INCREMENT=64 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `compras` (`Id`, `id_usuario`, `cpf_leitor`, `data`) VALUES
	(61, 6, '12345678912', '2025-11-29 20:08:16'),
	(62, 6, '1234567', '2025-11-29 22:51:59'),
	(63, 8, '470449749749', '2025-11-29 23:00:09');

CREATE TABLE IF NOT EXISTS `editora` (
  `id_editora` int(11) NOT NULL AUTO_INCREMENT,
  `nome` varchar(100) NOT NULL,
  `email` varchar(100) DEFAULT NULL,
  `telefone` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`id_editora`)
) ENGINE=InnoDB AUTO_INCREMENT=36 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `editora` (`id_editora`, `nome`, `email`, `telefone`) VALUES
	(0, 'Desconhecida', NULL, NULL),
	(1, 'Editora Aurora', 'contato@aurora.com', '(11) 2345-6789'),
	(2, 'Editora Solaris', 'contato@solaris.com.br', '(21) 99876-5432'),
	(3, 'Editora Horizonte', 'horizonte@editora.com', '(31) 3333-4444'),
	(4, 'Editora Estelar', 'contato@estelar.com', '(41) 91234-5566'),
	(5, 'Editora Mar Aberto', 'maraberto@editora.com', '(48) 3344-9988'),
	(6, 'Editora Atlas', 'suporte@atlasbooks.com', '(15) 4002-8922'),
	(7, 'Editora Olimpo', 'contato@olimpo.com', '(19) 3777-2233'),
	(8, 'Editora Boreal', 'boreal@editora.com', '(51) 95544-1122'),
	(9, 'Editora Prisma', 'prisma@livros.com', '(62) 3666-7788'),
	(10, 'Editora Luminosa', 'luminosa@books.com', '(85) 99811-2244'),
	(11, 'Companhia das Letras', 'contato@companhiadasletras.com.br', '(11) 3707-3500'),
	(12, 'HarperCollins Brasil', 'contato@harpercollins.com.br', '(11) 4118-8800'),
	(13, 'Editora Intrínseca', 'contato@intrinseca.com.br', '(21) 3206-7400'),
	(14, 'Editora Rocco', 'atendimento@rocco.com.br', '(21) 3882-1800'),
	(15, 'Editora Record', 'sac@record.com.br', '(21) 2585-2000'),
	(16, 'Grupo Editorial Pensamento', 'contato@pensamento.com.br', '(11) 3289-9090'),
	(17, 'Editora Aleph', 'contato@editoraaleph.com.br', '(11) 5687-0000'),
	(18, 'DarkSide Books', 'hell@darksidebooks.com.br', '(11) 4003-9599'),
	(19, 'Editora Sextante', 'contato@sextante.com.br', '(21) 2177-2000'),
	(20, 'Globo Livros', 'sac@globolivros.com.br', '(11) 3217-0100'),
	(21, 'Editora Zahar', 'atendimento@zahar.com.br', '(21) 2535-2000'),
	(22, 'Novatec Editora', 'contato@novatec.com.br', '(11) 4858-9500'),
	(23, 'Pearson Educação', 'suporte@pearson.com', '(11) 4118-0090'),
	(24, 'Oxford University Press', 'support@oup.com', '+44 1865 556767'),
	(25, 'Cambridge University Press', 'info@cambridge.org', '+44 1223 358331'),
	(26, 'Penguin Books', 'contact@penguinrandomhouse.com', '+44 2031 456000'),
	(27, 'Penguin Random House', 'global@penguinrandomhouse.com', '+1 212-782-9000'),
	(28, 'Scholastic Press', 'info@scholastic.com', '+1 800-724-6527'),
	(29, 'Simon & Schuster', 'info@simonandschuster.com', '+1 212-698-7000'),
	(30, 'Macmillan Publishers', 'info@macmillan.com', '+1 646-307-5151'),
	(31, 'Editora História Viva', 'contato@historiaviva.com', '(11) 3777-2211'),
	(32, 'Editora Memória Mundial', 'suporte@memoria.com', '(21) 94444-8833'),
	(33, 'Editora Horizonte Literário', 'editorial@horizontelit.com', '(31) 98822-1144'),
	(34, 'Editora Nova Contemporânea', 'contato@novacontemp.com', '(41) 3555-6677'),
	(35, 'Editora Guerras & Vozes', 'atendimento@geve.com', '(51) 3221-9090');

CREATE TABLE IF NOT EXISTS `estado` (
  `id_estado` tinyint(32) NOT NULL AUTO_INCREMENT,
  `nome` varchar(50) NOT NULL,
  `sigla` char(2) NOT NULL,
  PRIMARY KEY (`id_estado`)
) ENGINE=InnoDB AUTO_INCREMENT=28 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `estado` (`id_estado`, `nome`, `sigla`) VALUES
	(1, 'Acre', 'AC'),
	(2, 'Alagoas', 'AL'),
	(3, 'Amapá', 'AP'),
	(4, 'Amazonas', 'AM'),
	(5, 'Bahia', 'BA'),
	(6, 'Ceará', 'CE'),
	(7, 'Distrito Federal', 'DF'),
	(8, 'Espírito Santo', 'ES'),
	(9, 'Goiás', 'GO'),
	(10, 'Maranhão', 'MA'),
	(11, 'Mato Grosso', 'MT'),
	(12, 'Mato Grosso do Sul', 'MS'),
	(13, 'Minas Gerais', 'MG'),
	(14, 'Pará', 'PA'),
	(15, 'Paraíba', 'PB'),
	(16, 'Paraná', 'PR'),
	(17, 'Pernambuco', 'PE'),
	(18, 'Piauí', 'PI'),
	(19, 'Rio de Janeiro', 'RJ'),
	(20, 'Rio Grande do Norte', 'RN'),
	(21, 'Rio Grande do Sul', 'RS'),
	(22, 'Rondônia', 'RO'),
	(23, 'Roraima', 'RR'),
	(24, 'Santa Catarina', 'SC'),
	(25, 'São Paulo', 'SP'),
	(26, 'Sergipe', 'SE'),
	(27, 'Tocantins', 'TO');

CREATE TABLE IF NOT EXISTS `estoque_livro` (
  `id_livro` int(11) NOT NULL,
  `id_tipo` int(11) NOT NULL,
  `estoque` int(11) NOT NULL DEFAULT 0,
  PRIMARY KEY (`id_livro`,`id_tipo`),
  KEY `fk_estoque_tipo` (`id_tipo`),
  CONSTRAINT `fk_estoque_livro` FOREIGN KEY (`id_livro`) REFERENCES `livro` (`id_livro`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_estoque_tipo` FOREIGN KEY (`id_tipo`) REFERENCES `tipo_livro` (`id_tipo`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `estoque_livro` (`id_livro`, `id_tipo`, `estoque`) VALUES
	(1, 1, 63),
	(1, 2, 95),
	(2, 1, 49),
	(2, 2, 90),
	(3, 1, 49),
	(3, 2, 58),
	(4, 1, 50),
	(4, 2, 80),
	(5, 1, 60),
	(5, 2, 100),
	(6, 1, 70),
	(6, 2, 119),
	(7, 1, 50),
	(7, 2, 90),
	(8, 1, 99),
	(8, 2, 145),
	(9, 1, 80),
	(9, 2, 120),
	(10, 1, 90),
	(10, 2, 140),
	(11, 1, 70),
	(11, 2, 100),
	(12, 1, 34),
	(12, 2, 78),
	(13, 1, 31),
	(13, 2, 73),
	(14, 1, 27),
	(14, 2, 80),
	(15, 1, 22),
	(15, 2, 60),
	(16, 1, 20),
	(16, 2, 55),
	(17, 1, 18),
	(17, 2, 52),
	(18, 1, 33),
	(18, 2, 76),
	(19, 1, 26),
	(19, 2, 70),
	(20, 1, 29),
	(20, 2, 82),
	(21, 1, 28),
	(21, 2, 74),
	(22, 1, 30),
	(22, 2, 79),
	(23, 1, 26),
	(23, 2, 83),
	(24, 1, 25),
	(24, 2, 80),
	(25, 1, 22),
	(25, 2, 58),
	(26, 1, 32),
	(26, 2, 85),
	(27, 1, 15),
	(27, 2, 45),
	(28, 1, 18),
	(28, 2, 52),
	(29, 1, 24),
	(29, 2, 70),
	(30, 1, 27),
	(30, 2, 78),
	(31, 1, 33),
	(31, 2, 90),
	(33, 1, 30),
	(33, 2, 60),
	(34, 1, 25),
	(34, 2, 70),
	(35, 1, 20),
	(35, 2, 50);

CREATE TABLE IF NOT EXISTS `itens_compra` (
  `id_compra` int(11) DEFAULT NULL,
  `id_livro` int(11) DEFAULT NULL,
  `id_tipo` int(11) DEFAULT NULL,
  `quantidade` int(11) DEFAULT NULL,
  `valor_unitario` int(11) DEFAULT NULL,
  KEY `id_tipo` (`id_tipo`),
  KEY `itens_compra_ibfk_1` (`id_compra`),
  KEY `itens_compra_ibfk_2` (`id_livro`),
  CONSTRAINT `itens_compra_ibfk_1` FOREIGN KEY (`id_compra`) REFERENCES `compras` (`Id`),
  CONSTRAINT `itens_compra_ibfk_2` FOREIGN KEY (`id_livro`) REFERENCES `livro` (`id_livro`),
  CONSTRAINT `itens_compra_ibfk_3` FOREIGN KEY (`id_tipo`) REFERENCES `tipo_livro` (`id_tipo`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `itens_compra` (`id_compra`, `id_livro`, `id_tipo`, `quantidade`, `valor_unitario`) VALUES
	(61, 6, 2, 1, 80),
	(62, 1, 2, 1, 100),
	(62, 1, 1, 6, 150),
	(63, 8, 2, 5, 60),
	(63, 8, 1, 1, 90);

CREATE TABLE IF NOT EXISTS `leitor` (
  `id_leitor` int(11) NOT NULL AUTO_INCREMENT,
  `nome` varchar(100) NOT NULL,
  `email` varchar(100) NOT NULL,
  `senha` varchar(20) NOT NULL,
  `data` varchar(50) DEFAULT NULL,
  `telefone` varchar(20) DEFAULT NULL,
  `cpf` varchar(15) DEFAULT NULL,
  `estado` tinyint(4) DEFAULT NULL,
  `cidade` varchar(50) DEFAULT NULL,
  `bairro` varchar(60) DEFAULT NULL,
  `rua` varchar(60) DEFAULT NULL,
  `numero_casa` varchar(10) DEFAULT NULL,
  `complemento` varchar(60) DEFAULT NULL,
  PRIMARY KEY (`id_leitor`),
  UNIQUE KEY `cpf` (`cpf`),
  KEY `estado` (`estado`),
  CONSTRAINT `fk_estado` FOREIGN KEY (`estado`) REFERENCES `estado` (`id_estado`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `leitor` (`id_leitor`, `nome`, `email`, `senha`, `data`, `telefone`, `cpf`, `estado`, `cidade`, `bairro`, `rua`, `numero_casa`, `complemento`) VALUES
	(1, 'Carlos Eduardo', 'carlos.e@exemplo.com', '123', '1995-05-12', '(11) 98765-4321', '46645512245', 1, NULL, NULL, NULL, NULL, NULL),
	(2, 'Ana Beatriz', 'ana.b@exemplo.com', '123', '2000-09-25', '(21) 91234-5678', NULL, 2, NULL, NULL, NULL, NULL, NULL),
	(3, 'João Pedro', 'joao.p@exemplo.com', '123', '1988-02-18', '(31) 99888-7766', NULL, 3, NULL, NULL, NULL, NULL, NULL),
	(4, 'Guilhermw', 'asd@hmial.com', '123', NULL, NULL, NULL, 5, NULL, NULL, NULL, NULL, NULL),
	(5, 'Marcia', 'no@o.com', '1234', NULL, NULL, NULL, 6, NULL, NULL, NULL, NULL, NULL),
	(6, '1', '1', '1', NULL, NULL, '1234567', 25, 'Gui', 'Bairro legal', 'Legal23', '12', '123'),
	(7, '2', '2', '2', NULL, NULL, '98765432130', 19, NULL, NULL, NULL, NULL, NULL),
	(8, 'Mt texto', 'Mttexto@gmail.com', '1', NULL, NULL, '470449749749', NULL, NULL, NULL, NULL, NULL, NULL);

CREATE TABLE IF NOT EXISTS `livro` (
  `id_livro` int(11) NOT NULL AUTO_INCREMENT,
  `titulo` varchar(150) NOT NULL,
  `isbn` varchar(20) NOT NULL,
  `data` varchar(50) DEFAULT NULL,
  `autor` varchar(100) DEFAULT NULL,
  `sinopse` text DEFAULT NULL,
  `image` varchar(255) DEFAULT '0',
  `editora` int(11) DEFAULT NULL,
  PRIMARY KEY (`id_livro`),
  UNIQUE KEY `isbn` (`isbn`),
  KEY `editora` (`editora`),
  CONSTRAINT `livro_ibfk_1` FOREIGN KEY (`editora`) REFERENCES `editora` (`id_editora`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=38 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `livro` (`id_livro`, `titulo`, `isbn`, `data`, `autor`, `sinopse`, `image`, `editora`) VALUES
	(1, 'Duna', '9788576573135', '1965-08-01', 'Frank Herbert', 'Em um futuro distante, a disputa pelo controle do planeta desértico Arrakis, única fonte da especiaria melange, coloca famílias nobres em guerra. A jornada de Paul Atreides é uma das mais épicas da ficção científica.', 'https://m.media-amazon.com/images/I/81zN7udGRUL._SL1500_.jpg', 1),
	(2, 'Neuromancer', '9788576573005', '1984-07-01', 'William Gibson', 'O hacker Case é contratado para a missão mais perigosa de sua vida em um mundo dominado por megacorporações e inteligências artificiais. Romance que inaugurou o movimento cyberpunk.', 'https://m.media-amazon.com/images/I/91Bx5ilP+EL._SY342_.jpg', 1),
	(3, 'Fundação', '	9788576571971', '1951-06-01', 'Isaac Asimov', 'Hari Seldon desenvolve a psico-história, ciência que prevê o futuro de impérios galácticos. Ao perceber a queda iminente do Império, ele cria a Fundação para preservar o conhecimento humano.', 'https://m.media-amazon.com/images/I/71Imj+0W87L._SL1500_.jpg', 1),
	(4, 'O Senhor dos Anéis: A Sociedade do Anel', '9788595084759', '1954-07-29', 'J.R.R. Tolkien', 'Frodo Bolseiro recebe a tarefa de destruir o Um Anel e parte em uma jornada épica pela Terra-média acompanhado por seus amigos e aliados.', 'https://m.media-amazon.com/images/I/81hCVEC0ExL._SL1500_.jpg', 3),
	(5, 'Harry Potter e a Pedra Filosofal', ' 9788532530783', '1997-06-26', 'J.K. Rowling', 'Harry Potter descobre ser um bruxo e entra em Hogwarts, onde começa sua aventura contra as forças das trevas lideradas por Voldemort.', 'https://m.media-amazon.com/images/I/81ibfYk4qmL._SY342_.jpg', 3),
	(6, 'As Crônicas de Nárnia', '9788578270698', '1950-10-16', 'C.S. Lewis', 'Quatro irmãos descobrem um guarda-roupa mágico que os leva a Nárnia, um mundo encantado governado pelo leão Aslam.', 'https://m.media-amazon.com/images/I/71yJLhQekBL._SY342_.jpg', 3),
	(7, 'O Nome do Vento', ' 9788599296493', '2007-03-27', 'Patrick Rothfuss', 'A história de Kvothe, um mago lendário que conta sua vida a um cronista — desde sua infância trágica até se tornar um herói e assassino de reis.', 'https://m.media-amazon.com/images/I/81CGmkRG9GL._SL1500_.jpg', 3),
	(8, 'Orgulho e Preconceito', '9788544001820', '1813-01-28', 'Jane Austen', 'Elizabeth Bennet enfrenta os desafios da sociedade inglesa do século XIX e o orgulhoso Mr. Darcy, em um romance sobre amor e classe social.', 'https://m.media-amazon.com/images/I/719esIW3D7L._SL1297_.jpg', 2),
	(9, 'Jane Eyre', '9786555524406', '1847-10-16', 'Charlotte Brontë', 'Uma jovem órfã supera dificuldades e luta por sua independência e dignidade, enquanto vive um romance com o misterioso Sr. Rochester.', 'https://m.media-amazon.com/images/I/613Wah-Tp2S._SL1000_.jpg', 2),
	(10, 'O Morro dos Ventos Uivantes', '9788594318237', '1847-12-01', 'Emily Brontë', 'A trágica e intensa história de amor entre Heathcliff e Catherine, ambientada nos ventos frios das charnecas inglesas.', 'https://m.media-amazon.com/images/I/71lqmkoeosL._SL1360_.jpg', 2),
	(11, 'Anna Kariênina', '9788535929225', '1878-01-01', 'Liev Tolstói', 'Um dos maiores romances da literatura russa, narra a paixão proibida de Anna e Vronski, explorando temas de moral, sociedade e felicidade.', 'https://m.media-amazon.com/images/I/61pTISHTptL._SL1457_.jpg', 2),
	(12, '1984', '9786555522266', '1949-06-08', 'George Orwell', 'Em uma sociedade totalitária, Winston Smith luta contra o Grande Irmão para preservar a verdade e a liberdade.', 'https://m.media-amazon.com/images/I/61t0bwt1s3L._SL1000_.jpg', 11),
	(13, 'O Sol é Para Todos', '9788503009492', '1960-07-11', 'Harper Lee', 'Scout Finch vive no sul dos EUA e seu pai, Atticus, defende um homem negro acusado injustamente de um crime.', 'https://m.media-amazon.com/images/I/91WKPd60P4L._SL1500_.jpg', 12),
	(14, 'O Pequeno Príncipe', '9786559801367', '1943-04-06', 'Antoine de Saint-Exupéry', 'Um piloto encontra um menino de outro planeta e aprende lições sobre amizade e essência humana.', 'https://m.media-amazon.com/images/I/81QluJ4QXyL._SL1500_.jpg', 13),
	(15, 'Crime e Castigo', '9788573266467', '1866-01-01', 'Fiódor Dostoiévski', 'Raskólnikov comete um assassinato, acreditando estar acima da moral, mas é consumido pela culpa.', 'https://m.media-amazon.com/images/I/916WkSH4cGL._SL1500_.jpg', 14),
	(16, 'Cem Anos de Solidão', ' 9788501012074', '1967-05-30', 'Gabriel García Márquez', 'A história da família Buendía em Macondo, repleta de realismo mágico e acontecimentos extraordinários.', 'https://m.media-amazon.com/images/I/817esPahlrL._SL1500_.jpg', 15),
	(17, 'O Hobbit', '9788595084742', '1937-09-21', 'J. R. R. Tolkien', 'Bilbo Bolseiro embarca numa aventura com anões para recuperar um tesouro guardado por um dragão.', 'https://m.media-amazon.com/images/I/91M9xPIf10L._SL1500_.jpg', 16),
	(18, 'O Apanhador no Campo de Centeio', '9786580309030', '1951-07-16', 'J. D. Salinger', 'Holden Caulfield conta os dias após abandonar a escola, refletindo sobre perda, inocência e o mundo adulto.', 'https://m.media-amazon.com/images/I/71b3GDZMzSL._SL1229_.jpg', 17),
	(19, 'Admirável Mundo Novo', '9788525056009', '1932-01-01', 'Aldous Huxley', 'Uma sociedade futurista onde prazer e estabilidade são mantidos por controle químico e social.', 'https://m.media-amazon.com/images/I/61hOp6UFvCL._SL1500_.jpg', 12),
	(20, 'O Velho e o Mar', '9788528617986', '1952-09-01', 'Ernest Hemingway', 'Um velho pescador enfrenta um grande peixe-marlin em alto mar como prova de sua esperança e dignidade.', 'https://m.media-amazon.com/images/I/71wo6d7Ex3L._SL1500_.jpg', 13),
	(21, 'A Metamorfose', '9786580210008', '1915-10-01', 'Franz Kafka', 'Gregor Samsa acorda transformado em um inseto monstruoso e enfrenta o impacto em sua vida e família.', 'https://covers.openlibrary.org/b/id/15109960-L.jpg', 14),
	(22, 'O Alquimista', '9788575425597', '1988-01-01', 'Paulo Coelho', 'Santiago, um jovem pastor, parte em busca de um tesouro no Egito e descobre verdades profundas sobre a vida.', 'https://covers.openlibrary.org/b/id/6876530-L.jpg', 11),
	(23, 'Dom Casmurro', '9788520923788', '1899-01-01', 'Machado de Assis', 'Bentinho relata suas memórias, especialmente seu relacionamento conflituoso com Capitu e o ciúme que o consome.', 'https://covers.openlibrary.org/b/id/8232260-L.jpg', 12),
	(24, 'Memórias Póstumas de Brás Cubas', '9788520922034', '1881-01-01', 'Machado de Assis', 'Narrado por um morto, o livro mistura ironia, crítica social e reflexões sobre a existência e a imortalidade.', 'https://covers.openlibrary.org/b/id/8232303-L.jpg', 12),
	(25, 'Grande Sertão: Veredas', '9788520926031', '1956-01-01', 'João Guimarães Rosa', 'Riobaldo relata sua vida no sertão, seus amores, suas dúvidas e a luta entre o bem e o mal.', 'https://covers.openlibrary.org/b/id/10521474-L.jpg', 13),
	(26, 'A Menina que Roubava Livros', '9788575429953', '2005-01-01', 'Markus Zusak', 'Liesel encontra nos livros um refúgio durante a Segunda Guerra Mundial e forma laços com sua família adotiva.', 'https://covers.openlibrary.org/b/id/8232436-L.jpg', 14),
	(27, 'It – A Coisa', '9788535900648', '1986-01-01', 'Stephen King', 'Uma criatura antiga e poderosa toma a forma de palhaço para aterrorizar as crianças de Derry.', 'https://covers.openlibrary.org/b/id/10520842-L.jpg', 15),
	(28, 'Sapiens: Uma Breve História da Humanidade', '9788565762163', '2011-01-01', 'Yuval Noah Harari', 'Uma viagem pelo passado da humanidade, explorando como nos tornamos quem somos hoje.', 'https://covers.openlibrary.org/b/id/8231858-L.jpg', 16),
	(29, 'O Poder do Hábito', '9788539003839', '2012-01-01', 'Charles Duhigg', 'Descubra como os hábitos funcionam e como você pode transformá-los para mudar sua vida.', 'https://covers.openlibrary.org/b/id/10521405-L.jpg', 11),
	(30, 'A Sutil Arte de Ligar o F*da-se', '9788551004204', '2016-01-01', 'Mark Manson', 'Um guia sobre a importância de escolher suas batalhas e aceitar as falhas da vida.', 'https://covers.openlibrary.org/b/id/8232450-L.jpg', 14),
	(31, 'E Não Sobrou Nenhum', '9788556510784', '1939-01-01', 'Agatha Christie', 'Dez estranhos são convidados para uma ilha remota e, um por um, começam a morrer misteriosamente.', 'https://covers.openlibrary.org/b/id/8232170-L.jpg', 15),
	(33, 'O Segredo do Vale da Lua', '9788578270896', '2005-08-15', 'Khaled Hosseini', 'Drama contemporâneo ambientado no Afeganistão durante conflitos históricos, acompanhando a luta de uma jovem pela própria liberdade.', 'https://m.media-amazon.com/images/I/61gfREBLQKL._SL1250_.jpg', 34),
	(34, 'O Diário de Anne Franklin', '9788535909557', '1947-06-25', 'Anne Frank', 'O comovente diário de uma jovem judia escondida durante a Segunda Guerra Mundial, um dos maiores testemunhos humanos do século XX.', 'https://m.media-amazon.com/images/I/91RMqWB-CTL._SL1500_.jpg', 32),
	(35, 'O Homem que Venceu Hitler', '9788535921580', '2014-03-10', 'Denis Avey', 'As memórias de um soldado britânico que se infiltrou em um campo de concentração nazista para registrar os horrores da guerra.', 'https://m.media-amazon.com/images/I/81GvQzl2VzL._SL1500_.jpg', 31);

CREATE TABLE IF NOT EXISTS `livro_categoria` (
  `id_livro` int(11) NOT NULL,
  `id_categoria` int(11) NOT NULL,
  PRIMARY KEY (`id_livro`,`id_categoria`),
  KEY `fk_categoria` (`id_categoria`),
  CONSTRAINT `fk_categoria` FOREIGN KEY (`id_categoria`) REFERENCES `categoria` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_livro` FOREIGN KEY (`id_livro`) REFERENCES `livro` (`id_livro`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `livro_categoria` (`id_livro`, `id_categoria`) VALUES
	(1, 2),
	(2, 9),
	(3, 5),
	(3, 7),
	(4, 2),
	(4, 5),
	(4, 7),
	(5, 2),
	(5, 7),
	(6, 2),
	(6, 5),
	(6, 7),
	(7, 2),
	(7, 5),
	(8, 3),
	(8, 5),
	(9, 3),
	(9, 4),
	(9, 5),
	(10, 4),
	(10, 5),
	(11, 4),
	(11, 5),
	(12, 5),
	(12, 6),
	(13, 4),
	(13, 5),
	(13, 10),
	(14, 7),
	(14, 8),
	(15, 4),
	(15, 5),
	(16, 4),
	(16, 5),
	(16, 8),
	(17, 2),
	(17, 7),
	(18, 3),
	(18, 4),
	(19, 6),
	(20, 4),
	(20, 5),
	(21, 5),
	(21, 8),
	(22, 8),
	(22, 10),
	(23, 5),
	(23, 11),
	(24, 5),
	(24, 11),
	(25, 5),
	(25, 8),
	(25, 11),
	(26, 4),
	(26, 7),
	(26, 10),
	(27, 7),
	(27, 9),
	(28, 10),
	(28, 12),
	(29, 10),
	(29, 13),
	(30, 10),
	(30, 13),
	(31, 5),
	(31, 9),
	(33, 14),
	(34, 14),
	(34, 15),
	(35, 15);

CREATE TABLE IF NOT EXISTS `preco_livro` (
  `id_livro` int(11) NOT NULL,
  `id_tipo` int(11) NOT NULL,
  `preco` decimal(10,2) NOT NULL,
  PRIMARY KEY (`id_livro`,`id_tipo`),
  KEY `fk_preco_tipo` (`id_tipo`),
  CONSTRAINT `fk_preco_livro` FOREIGN KEY (`id_livro`) REFERENCES `livro` (`id_livro`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_preco_tipo` FOREIGN KEY (`id_tipo`) REFERENCES `tipo_livro` (`id_tipo`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `preco_livro` (`id_livro`, `id_tipo`, `preco`) VALUES
	(1, 1, 150.00),
	(1, 2, 100.00),
	(2, 1, 140.00),
	(2, 2, 95.00),
	(3, 1, 130.00),
	(3, 2, 85.00),
	(4, 1, 160.00),
	(4, 2, 110.00),
	(5, 1, 140.00),
	(5, 2, 95.00),
	(6, 1, 120.00),
	(6, 2, 80.00),
	(7, 1, 145.00),
	(7, 2, 100.00),
	(8, 1, 90.00),
	(8, 2, 60.00),
	(9, 1, 95.00),
	(9, 2, 65.00),
	(10, 1, 100.00),
	(10, 2, 70.00),
	(11, 1, 105.00),
	(11, 2, 72.00),
	(12, 1, 99.90),
	(12, 2, 59.90),
	(13, 1, 94.90),
	(13, 2, 54.90),
	(14, 1, 79.90),
	(14, 2, 39.90),
	(15, 1, 99.90),
	(15, 2, 59.90),
	(16, 1, 109.90),
	(16, 2, 69.90),
	(17, 1, 129.90),
	(17, 2, 79.90),
	(18, 1, 84.90),
	(18, 2, 49.90),
	(19, 1, 94.90),
	(19, 2, 59.90),
	(20, 1, 69.90),
	(20, 2, 39.90),
	(21, 1, 79.90),
	(21, 2, 44.90),
	(22, 1, 79.90),
	(22, 2, 49.90),
	(23, 1, 69.90),
	(23, 2, 39.90),
	(24, 1, 69.90),
	(24, 2, 39.90),
	(25, 1, 89.90),
	(25, 2, 59.90),
	(26, 1, 119.90),
	(26, 2, 69.90),
	(27, 1, 149.90),
	(27, 2, 99.90),
	(28, 1, 129.90),
	(28, 2, 79.90),
	(29, 1, 99.90),
	(29, 2, 59.90),
	(30, 1, 89.90),
	(30, 2, 49.90),
	(31, 1, 79.90),
	(31, 2, 44.90),
	(33, 1, 79.90),
	(33, 2, 49.90),
	(34, 1, 69.90),
	(34, 2, 39.90),
	(35, 1, 89.90),
	(35, 2, 59.90);

CREATE TABLE IF NOT EXISTS `tipo_livro` (
  `id_tipo` int(11) NOT NULL AUTO_INCREMENT,
  `tipo` varchar(50) NOT NULL,
  PRIMARY KEY (`id_tipo`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `tipo_livro` (`id_tipo`, `tipo`) VALUES
	(1, 'Capa dura'),
	(2, 'Brochura');

/*!40103 SET TIME_ZONE=IFNULL(@OLD_TIME_ZONE, 'system') */;
/*!40101 SET SQL_MODE=IFNULL(@OLD_SQL_MODE, '') */;
/*!40014 SET FOREIGN_KEY_CHECKS=IFNULL(@OLD_FOREIGN_KEY_CHECKS, 1) */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40111 SET SQL_NOTES=IFNULL(@OLD_SQL_NOTES, 1) */;
